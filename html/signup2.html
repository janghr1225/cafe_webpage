<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="../css/signup2.css"><!-- 스타일만 따로 파일 만들어서 html과 연결-->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap"
        rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script><!-- 제이쿼리 연결  -->
    <script src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script><!--카카오 주소 검색 API-->

    <title>회원가입</title>
</head>

<body>
     <!-- 헤더 -->
     <div>
        <header>
            <nav>
                <a id="name" href="./CafeMain.html">
                    <img id="logo" src="../img/logo4.png" alt="로고">
                    <span id="name2">MAHALO</span>
                </a>
                <a href="./login.html" id="sign"> Sign in </a> <img src="../img/sign.png" id="signimg"
                    style="width: 20px;height: 20px; margin-top: 10px;">
                <div>
                    <ul id="menu">
                        <li> <a id="mypage" href="./login.html"> My Page </a></li>
                        <li> <a href="./CAFEnews.html"> MAHALO News </a></li>
                        <li> <a href="./searchStore.html"> Store </a></li>
                        <li> <a id="menu2"> Menu </a>
                            <ul>
                                <p class="m2"> <a href="./menu_DRINKS_main.html"> Drinks </a> </p>
                                <p class="m2"> <a href="./menu_FOOD_main.html"> Food </a> </p>
                            </ul>
                        </li>
                    </ul>
                </div>
            </nav>
            <hr>
        </header>
    </div>



    <div id="loginbody">
        <p id="login_title">멤버십 가입</p>
        <p id="welcome"> JOIN MAHALO </p>

        <p class="sub_copy02">회원가입에 필요한 고객님의 정보를 아래의 입력란에 정확히 입력해주세요. </p>

        <!-- <fieldset> -->
            <div class="tableType01">
                <table class="form">
                    <colgroup>
                        <col width="20%">
                        <col>
                    </colgroup>
                    <tbody>
                        <tr>
                            <th scope="row">이름(필수)</th>
                            <td id="loginName">
                                <input type="text" id="nameinput" style="width:119px">
                            </td>
                        </tr>
                        <tr>
                            <th scope="row"><label for="">아이디(필수)</label></th>
                            <td>
                                <div class="ipt" style="position:relative;">
                                    <input type="hidden" id="custWebIdYn" value="N">
                                    <input type="text" class="searchIn02" style="width:130px" id="custWebId"
                                        name="custWebId" maxlength="128"><span class="mar_l_3" id="idChkBtn">
                                        <button type="button" onclick="javascript:onIDCheck();" style="height: 28px;"
                                            class="btnType11">중복확인</button></span>

                                    <div class="layer_tip_1" style="display: none;"><img
                                            src="https://www.hollys.co.kr/websrc/images/membership/layer_tip_1.gif">
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row"><label for="">비밀번호(필수)</label></th>
                            <td>
                                <div class="ipt" style="position:relative;">
                                    <input type="password" class="searchIn02" style="width:182px; height: 22px;" id="custPw"
                                        name="custPw" maxlength="20"> <span>비밀번호는 영문,숫자,특수문자(~!@#$%^&*+)의 8~12글자</span>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row"><label for="">비밀번호 확인(필수)</label></th>
                            <td><input type="password" class="searchIn02" style="width:182px; height: 22px" id="custPwConf"
                                    name="custPwConf" maxlength="20"></td>
                        </tr>
                        <tr>
                            <th scope="row">휴대폰 번호(필수)</th>
                            <td>
                                <div class="ipt">
                                    <input type="hidden" id="mobileYn" value="N">
                                    <input type="text" id="mobile1" class="searchIn02" title="휴대폰 첫자리"
                                        style="width:53px" value="" maxlength="4"> - 
                                    <input type="text" id="mobile2" class="searchIn02" title="휴대폰 중간자리"
                                        style="width:53px" value="" maxlength="4"> -
                                    <input type="text" id="mobile3" class="searchIn02" title="휴대폰 끝자리"
                                        style="width:53px" value="" maxlength="4">
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row">이메일(선택)</th>
                            <td>
                                <input type="hidden" id="emailYn" value="N">
                                <input type="text" class="searchIn02" title="이메일 아이디" style="width:100px" id="email1"
                                    name="email1" maxlength="30">
                                @ <input type="text" class="searchIn02" title="이메일 계정" style="width:100px" id="email2"
                                    name="email2" maxlength="34">
                                <select title="검색조건" class="formSelect" style="width:120px;" id="domain" name="domain"
                                    onchange="change_email()">
                                    <option value="">선택하세요</option>
                                    <option value="">직접 입력</option>
                                    <option value="gmail.com">gmail.com</option>
                                    <option value="naver.com">naver.com</option>
                                    <option value="daum.net">daum.net</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row"">주소(선택)</th>
                            <td>
                                <input type="text" class="searchIn02" title="우편번호" style="width:400px" id="addrInput"
                                    name="addr1">
                                <button type="button" href="#" class="btnType02" id="address_kakao" style="height: 28px;"
                                    onclick="daumPostcode()">주소찾기</button>
                            </td>
                        </tr>
                        <tr class="noline">
                            <!-- 마지막 행은 class="noline"을 넣어주세요 -->
                            <th scope="row">생년월일(필수)</th>
                            <td>
                                <div class="ipt">
                                    <input type="text" id="birthDt1" class="searchIn01" style="width:40px"
                                        maxlength="4">년
                                    &nbsp;
                                    <select title="month" class="formSelect" style="width:50px;" id="month"
                                        name="month">
                                        <option value="">선택</option>
                                        <option value="month1">01</option>
                                        <option value="month1">02</option>
                                        <option value="month1">03</option>
                                        <option value="month1">04</option>
                                        <option value="month1">05</option>
                                        <option value="month1">06</option>
                                        <option value="month1">07</option>
                                        <option value="month1">08</option>
                                        <option value="month1">09</option>
                                        <option value="month1">10</option>
                                        <option value="month1">11</option>
                                        <option value="month1">12</option>
                                    </select> 월 &nbsp;
                                    <select title="day" class="formSelect" style="width:50px;" id="day" name="day">
                                        <option value="">선택</option>
                                        <option value="day1">01</option>
                                        <option value="day1">02</option>
                                        <option value="day1">03</option>
                                        <option value="day1">04</option>
                                        <option value="day1">05</option>
                                        <option value="day1">06</option>
                                        <option value="day1">07</option>
                                        <option value="day1">08</option>
                                        <option value="day1">09</option>
                                        <option value="day1">10</option>
                                        <option value="day1">11</option>
                                        <option value="day1">12</option>
                                        <option value="day1">13</option>
                                        <option value="day1">14</option>
                                        <option value="day1">15</option>
                                        <option value="day1">16</option>
                                        <option value="day1">17</option>
                                        <option value="day1">18</option>
                                        <option value="day1">19</option>
                                        <option value="day1">20</option>
                                        <option value="day1">21</option>
                                        <option value="day1">22</option>
                                        <option value="day1">23</option>
                                        <option value="day1">24</option>
                                        <option value="day1">25</option>
                                        <option value="day1">26</option>
                                        <option value="day1">27</option>
                                        <option value="day1">28</option>
                                        <option value="day1">29</option>
                                        <option value="day1">30</option>
                                        <option value="day1">31</option>
                                    </select> 일
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
        <!-- </fieldset> -->

        <!-- button -->
        <div class="btn_wr04">
            <button type="button" href="#" class="btnType04" onclick="javascript:onProc();">가입하기</button> 
            <button type="button" class="btnType04" onclick="javascript:history_back();">돌아가기</button>
        </div>
    </div>
    </div>
        <!-- 풋터 -->
        <div id="footerhr">
            <hr> 
            </div>
            <footer>
                <div id="ftft">
                <a href="#" id="btn">
                    <img src="../img/logo3.png">
                </a>
                
            <ul id="ft">
                <li><B>CAFE MAHALO</B></li>
                <li>개인정보처리방침</li>
                <li>사업자등록증 123-45-12345</li>
                <li>Tel : 02-123-4567</li>
                <address>주소: 서울특별시 강남구 언주로</address>
                <li>&nbsp;</li>
            </ul>
        </div>
        </footer>
    
        

</body>
<script src="../js/CafeMainjs_signout.js"></script>

<script>
    //아이디 중복확인
    function onIDCheck() {
        //id 중복확인 코드 구현
        //중복확인 버튼을 누르면 이 부분이 호출되어서 수행됨 
        //console.log( id.value );
        if (custWebId.value == 'cafe0123') {
            alert("이미 가입된 회원입니다");
            custWebId.value = '';
            custWebId.focus();
            false;
        } else if (custWebId.value == '') {
            alert("아이디를 입력하세요");
        }
        else {
            alert("가입 가능한 아이디입니다");
        }
    }

    //이메일이 뒷부분을 자동 입력
    function change_email() {
        // console.log(domain.options.selectedIndex); // select option태그에서 선택한 index 번호를 출력함
        // console.log(domain.options[2].value);
        //자바스크립트 변수는 var set let 
        var eos = domain.options.selectedIndex;
        console.log(eos);
        console.log(domain.options[eos].value);
        //email2 id안에다가 email_3.options[ eos  ].value를 넣어주면 된다.
        email2.value = domain.options[eos].value;
    }

    function history_back() {
        //이전 페이지로 돌아가기
        location.href = "./signup1.html";
    }

    //가입하기 버튼 클릭
    function onProc() {
        //가입하기 버튼을 누를 때 유효성 검사를 모두 통과되면 submit 로 만들어 보내기 
        //if 조건문 공백이면 다시 입력해 주세요 
        //유효성 검사 예를 들면 비밀번호 영문자 특수문자 숫자 8~24자 사이인것 확인하기

        var id = document.getElementById("custWebId");//아이디
        var password = document.getElementById("custPw"); //비밀번호
        var re_password = document.getElementById("custPwConf");//비밀번호 확인
        var name = document.getElementById("nameinput");//이름
        var tel1 = document.getElementById("mobile1");//휴대폰 번호1 필수
        var tel2 = document.getElementById("mobile2");//휴대폰 번호2 필수
        var tel3 = document.getElementById("mobile3");//휴대폰 번호3 필수
        var email_1 = document.getElementById("email1");
        var email_2 = document.getElementById("email2");
        var addr1 = document.getElementById("addr1");
        var addr2 = document.getElementById("addr2");
        var birth1 = document.getElementById("birthDt1");   //년
        var birth2 = document.getElementById("birthDt2");   //월
        var birth3 = document.getElementById("birthDt3");   //일

        //필수인 것들을 공백으로 입력되면 안된게 검사함
            if (name.value == '') {
                alert("이름을 입력하세요");
                name.focus();
                return false;
            }
            if (id.value == '') {
                alert("아이디를 입력하세요");
                id.focus();
                return false;
            }
            if (password.value == '') {
                alert("비밀번호를 입력하세요");
                password.focus();
                return false;
            }
            if (re_password.value == '') {
                alert("비밀번호 확인를 입력하세요");
                re_password.focus();
                return false;
            }
            if (tel1.value == '') {
                alert("전화번호를 입력하세요");
                tel.focus();
                return false;
            }
            if (tel2.value == '') {
                alert("전화번호를 모두 입력하세요");
                tel.focus();
                return false;
            }
            if (tel3.value == '') {
                alert("전화번호를 모두 입력하세요");
                tel.focus();
                return false;
            }
            if (birth1.value == '') {
                alert("생년월일을 입력하세요");
                tel.focus();
                return false;
            }
            

        //비밀번호는 영문자 숫자 특수문자 8~12자 사이만 가능 - 1단계 - 정규표현식 /  /
        var pwRdq = /^(?=.*[A-Za-z])(?=.*\d)(?=.*[~!@#$%^&*+])[A-Za-z\d[~!@#$%^&*+]{8,12}$/
        if (!pwRdq.test(password.value)) { //일치하지 않으면 false인데 !로 뒤집으니까 true
            alert("비밀번호가 틀렸습니다. 비밀번호는 영문,숫자,특수문자(~!@#$%^&*+)의 8~12글자입니다.");
            password.focus();//커서 포커스
            password.value = '';//초기화
            return false;
        }

        //비밀번호와 비밀번호 확인이 일치하는 문자인지 확인하기 - 2단계  123 123 
        if (password.value != re_password.value) {
            alert("비밀번호와 비밀번호 확인이 일치하지 않습니다.");
            re_password.value = '';
            re_password.focus();
            return false;
        }

        alert("가입되었습니다. 환영합니다 :)");
        location.href="./CafeMain_signout.html";

    }

</script>

<!-- 주소 검색 -->
<script>
    // https://github.com/daumPostcode/QnA/issues/642 참고 사이트 링크
    function daumPostcode() {
        //카카오 주소 검색 창 발생
        new daum.Postcode({
            oncomplete: function (data) { //선택시 입력값 세팅
                    alert(data.address);
                document.querySelector("#addrInput").value = data.address;
            }
        }).open();
    }
</script>

</html>